---
name: rotech-master
description: Hoofd projectrule voor Ro-Tech Development - altijd geladen voor kerncontext en AI gedragsinstructies
alwaysApply: true
---

# üöÄ RO-TECH DEVELOPMENT - MASTER RULE

---

## üß† AI GEDRAGSINSTRUCTIES

### Kernprincipes

1. **Lees eerst, handel daarna** - Inspecteer ALTIJD relevante bestanden voordat je code voorstelt. Raad nooit naar bestaande implementaties.

2. **Consistentie boven creativiteit** - Volg bestaande patronen in de codebase. Kijk naar vergelijkbare componenten/functies voor stijl en structuur.

3. **Minimale wijzigingen** - Verander alleen wat nodig is. Geen "verbeteringen" aan omliggende code tenzij expliciet gevraagd.

4. **Nederlandse communicatie** - Praat in het Nederlands met de gebruiker. Code, variabelen en technische termen blijven Engels.

5. **Proactief maar niet opdringerig** - Meld potenti√´le problemen, maar voer geen ongeplande wijzigingen door.

### Context Herkenning

**Herken het actieve subproject aan:**

| Signaal | Subproject | Gerelateerde Rule |
|---------|------------|-------------------|
| Bestand in `src/`, `public/` | Website/Portal | `rotech-website.mdc` |
| Bestand in `src/app/portal/` | Klantenportaal | `rotech-website.mdc` |
| Bestand in `src/app/api/` | API Routes | `rotech-database.mdc` |
| Bestand in `prisma/` | Database | `rotech-database.mdc` |
| Bestand in `mobile-app/` | Mobile App | `rotech-mobile.mdc` |
| Bestand in `tools/admin-portal/` | Admin Portal | `rotech-admin-portal.mdc` |
| Bestand in `tools/lead-finder/` | Lead Finder | Python context |
| Bestand in `master-prompts/` | Klant Prompts | Markdown focus |

### Beslisboom: Nieuwe Feature

```
1. Bestaat er al iets vergelijkbaars?
   ‚Üí JA: Gebruik/extend dat patroon
   ‚Üí NEE: Ga naar 2

2. Past het in een bestaand bestand?
   ‚Üí JA: Voeg toe aan bestaand bestand
   ‚Üí NEE: Maak nieuw bestand in correcte map

3. Is nieuwe dependency nodig?
   ‚Üí VERMIJD: Gebruik bestaande tools eerst
   ‚Üí NOODZAKELIJK: Vraag bevestiging aan gebruiker
```

### Beslisboom: Bug Fix

```
1. Reproduceer het probleem mentaal
2. Identificeer root cause (niet symptoom)
3. Zoek vergelijkbare code voor correcte aanpak
4. Fix minimaal - alleen wat kapot is
5. Controleer of fix geen side effects heeft
```

### Wanneer Om Verduidelijking Vragen

- ‚ùì Meerdere valide interpretaties van de vraag
- ‚ùì Wijziging zou breaking change zijn
- ‚ùì Nieuwe externe dependency nodig
- ‚ùì Significant andere aanpak dan bestaand patroon
- ‚ùì Onduidelijk welk subproject bedoeld wordt

### Wanneer NIET Vragen (Direct Handelen)

- ‚úÖ Duidelijke bug met voor de hand liggende fix
- ‚úÖ Vraag matcht exact √©√©n bestaand patroon
- ‚úÖ Simpele toevoeging/wijziging
- ‚úÖ Expliciet gevraagde actie

---

## üìã PROJECTOVERZICHT

**Ro-Tech Development (BVR Services)** - Web development agency, Veldhoven, Nederland.

### Ecosysteem Architectuur

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        RO-TECH DEVELOPMENT PLATFORM                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ    üåê WEBSITE    ‚îÇ    ‚îÇ   üì± MOBILE APP  ‚îÇ    ‚îÇ  üè¢ ADMIN PORTAL ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   Next.js 16+    ‚îÇ    ‚îÇ   Expo/RN 0.81   ‚îÇ    ‚îÇ  Python/CTk      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ    ‚îÇ                  ‚îÇ    ‚îÇ                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Marketing     ‚îÇ    ‚îÇ  ‚Ä¢ Klant login   ‚îÇ    ‚îÇ  ‚Ä¢ Email inbox   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Diensten      ‚îÇ    ‚îÇ  ‚Ä¢ Dashboard     ‚îÇ    ‚îÇ  ‚Ä¢ CRM           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Blog/SEO      ‚îÇ    ‚îÇ  ‚Ä¢ Support       ‚îÇ    ‚îÇ  ‚Ä¢ Leads         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Portal        ‚îÇ    ‚îÇ  ‚Ä¢ Producten     ‚îÇ    ‚îÇ  ‚Ä¢ Facturen      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ           ‚îÇ                       ‚îÇ                       ‚îÇ             ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ                                   ‚îÇ                                      ‚îÇ
‚îÇ                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ
‚îÇ                          ‚îÇ   üóÑÔ∏è DATABASE   ‚îÇ                            ‚îÇ
‚îÇ                          ‚îÇ  Prisma/SQLite  ‚îÇ                            ‚îÇ
‚îÇ                          ‚îÇ   (+ Stripe)    ‚îÇ                            ‚îÇ
‚îÇ                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Subprojecten

| Project | Locatie | Tech | Doel |
|---------|---------|------|------|
| **Website** | `src/`, `public/` | Next.js 16, TypeScript | Bedrijfswebsite + marketing |
| **Klantenportaal** | `src/app/portal/` | Next.js 16, TypeScript | Klant self-service |
| **Admin Dashboard** | `src/app/admin/` | Next.js 16, TypeScript | Interne admin UI |
| **Mobile App** | `mobile-app/` | Expo 54, React Native | Klant mobile app |
| **Admin Portal** | `tools/admin-portal/` | Python, CustomTkinter | Desktop CRM/Email |
| **Lead Finder** | `tools/lead-finder/` | Python, Apify | Lead generatie |
| **Master Prompts** | `master-prompts/` | Markdown | Klantproject templates |

---

## üìû BEDRIJFSCONTEXT

| Aspect | Details |
|--------|---------|
| **Naam** | Ro-Tech Development |
| **Rechtsvorm** | BVR Services (handelsnaam) |
| **Eigenaar** | Bart van Rooij |
| **Locatie** | Veldhoven, Noord-Brabant |
| **Doelgroep** | MKB & ZZP in Nederland |
| **USP's** | Persoonlijke aanpak, moderne tech, eerlijke prijzen |
| **Tone of Voice** | Professioneel maar toegankelijk, Brabantse no-nonsense |

### Contact

- **Website:** ro-techdevelopment.dev
- **Email:** contact@ro-techdevelopment.dev
- **Telefoon:** +31 6 57 23 55 74
- **Adres:** Kruisstraat 64, 5502 JG Veldhoven

### Diensten & Prijzen (v2.0 - februari 2026)

| Pakket | Prijs vanaf | Doelgroep |
|--------|-------------|-----------|
| Starter | ‚Ç¨1.295 | ZZP'ers, freelancers |
| Business | ‚Ç¨2.995 | MKB, dienstverleners |
| Webshop | ‚Ç¨4.995 | Retailers |
| Maatwerk | ‚Ç¨9.995+ | Complexe processen |

**Uurtarief:** ‚Ç¨90 excl. BTW | **Minimum:** 30 min (‚Ç¨45)

### Onderhoudspakketten

| Pakket | Prijs/maand | Uren |
|--------|-------------|------|
| Basis | ‚Ç¨129 | 0 uur |
| Business | ‚Ç¨249 | 2 uur |
| Premium | ‚Ç¨495 | 5 uur |

> Volledig prijzensysteem met marktpositionering: zie `rotech-pricing` skill.
> Prijzen worden halfjaarlijks gereviewed (feb + aug) op basis van actuele marktwaarde.

---

## üõ†Ô∏è TECH STACK OVERZICHT

### Frontend (Website + Portal)
- **Framework:** Next.js 16+ (App Router)
- **Taal:** TypeScript (strict mode)
- **Styling:** Tailwind CSS v4
- **Animaties:** Framer Motion
- **Forms:** React Hook Form + Zod
- **Icons:** Lucide React
- **Fonts:** Space Grotesk + Inter

### Backend (API + Database)
- **Runtime:** Node.js 18+
- **ORM:** Prisma 6+
- **Database:** SQLite (dev) / PostgreSQL (prod)
- **Auth:** NextAuth v5 (beta)
- **Payments:** Stripe
- **Email:** Resend

### Mobile App
- **Framework:** Expo 54
- **Platform:** React Native 0.81
- **Navigation:** React Navigation 7
- **Storage:** AsyncStorage, SecureStore

### Admin Portal (Python)
- **GUI:** CustomTkinter
- **Database:** SQLAlchemy + SQLite
- **Email:** IMAP/SMTP
- **AI:** OpenAI GPT-4

---

## üîß COMMANDS

```bash
# === WEBSITE ===
npm run dev              # Development server (localhost:3000)
npm run build            # Production build
npm run lint             # ESLint check
npm run db:push          # Push Prisma schema to DB
npm run db:studio        # Open Prisma Studio
npm run db:seed          # Seed database
npm run admin:create     # Create admin user
npm run env:generate     # Generate .env template

# === MOBILE APP ===
cd mobile-app
npm start                # Expo development
npm run android          # Android emulator
npm run ios              # iOS simulator
npm run web              # Web browser

# === ADMIN PORTAL ===
cd tools/admin-portal
pip install -r requirements.txt
python main.py           # Start GUI

# === LEAD FINDER ===
cd tools/lead-finder
python apify_quick_start.py
python email_outreach.py --csv output/file.csv --live
```

---

## ‚ö†Ô∏è KRITIEKE REGELS

### ALTIJD (Verplicht)

| Regel | Reden |
|-------|-------|
| TypeScript strict mode | Voorkomt runtime errors |
| Zod validatie op API input | Security & data integriteit |
| Mobile-first responsive | 60%+ traffic is mobiel |
| Semantic HTML | Accessibility & SEO |
| Error boundaries/handling | Graceful degradation |
| Nederlandse content | Doelgroep is NL |
| Consistente naming | Maintainability |

### NOOIT (Verboden)

| Regel | Reden |
|-------|-------|
| `any` type in TypeScript | Verliest type safety |
| Hardcoded secrets/API keys | Security risico |
| `console.log` in productie | Performance & professionaliteit |
| Nieuwe packages zonder vraag | Bundle size & maintenance |
| Breaking API changes | Backward compatibility |
| Inline styles (bij Tailwind) | Inconsistentie |
| Force push naar main | Git safety |

---

## üöÄ PRE-DEPLOY PROTOCOL

**KRITIEK:** Voordat je naar GitHub/Vercel pushed:

```bash
# 1. ALTIJD lokaal builden - Vercel's Turbopack is strenger
npm run build

# 2. Fix ALLE errors voordat je pushed
# TypeScript errors die lokaal "lijken te werken" falen op Vercel
```

### Veelvoorkomende Build Failures:

| Error Type | Oorzaak | Quick Fix |
|------------|---------|-----------|
| `Module not found` | Import path bestaat niet | Check bestand bestaat |
| `Export doesn't exist` | Library versie mismatch | Check NextAuth v5, Zod syntax |
| `Property does not exist` | Stripe/library type changes | Gebruik type assertions |

### Versie-Specifieke Syntax (ONTHOUD):

```typescript
// NextAuth v5 (dit project) - NIET v4 syntax!
import { auth } from '@/lib/auth';
const session = await auth();

// Zod - gebruik .issues, NIET .errors
if (error instanceof z.ZodError) {
  return error.issues[0]?.message;
}
```

**Zie `lessons-learned.mdc` voor complete referentie van historische fixes.**

---

## üéØ KWALITEITSCHECKLIST

Voordat je code als "klaar" beschouwt:

- [ ] Types volledig gedefinieerd (geen `any`)
- [ ] Error handling aanwezig
- [ ] Responsive (test mobile breakpoints mentaal)
- [ ] Toegankelijk (aria-labels waar nodig)
- [ ] Consistent met bestaande patronen
- [ ] Geen console.log/debugs
- [ ] Nederlandse teksten correct gespeld
- [ ] API validatie met Zod (gebruik `.issues` voor errors)
- [ ] Loading/error states
- [ ] **Lokale build test passed** (`npm run build`)

---

*Zie specifieke rules voor gedetailleerde patronen per subproject.*
*Zie `lessons-learned.mdc` voor historische fixes en veelvoorkomende problemen.*